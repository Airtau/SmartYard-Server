asterisk

```
cd /tmp

wget https://downloads.asterisk.org/pub/telephony/asterisk/asterisk-18-current.tar.gz -O - | gzip -dc | tar -xvf -

cd asterisk-18-...

./configure --with-jansson-bundled

./menuselect/menuselect --enable codec_opus --disable CORE-SOUNDS-EN-GSM --enable CORE-SOUNDS-EN-WAV --enable CORE-SOUNDS-RU-WAV --enable MOH-OPSOUND-WAV

make -j `nproc` && make install
```

```
groupadd asterisk
useradd -g asterisk -s /bin/true -d /var/lib/asterisk asterisk
```

```
rm -rf /etc/asterisk
ln -sf /opt/rbt/asterisk /etc/asterisk
```

```
cp /opt/rbt/asterisk/config.sample.lua /opt/rbt/asterisk/config.lua
cp /opt/rbt/asterisk/extconfig.sample.conf /opt/rbt/asterisk/extconfig.conf
```

after copying configs, modify it to your realms

```
ln -sf /opt/rbt/systemd/asterisk.service /etc/systemd/system/asterisk.service
```

/etc/logrotate.d/asterisk

```
/var/log/asterisk/*log {
        daily
        missingok
        rotate 3
        compress
        notifempty
}
```

```
systemctl enable asterisk
systemctl start mongodb
```