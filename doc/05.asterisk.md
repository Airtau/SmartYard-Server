asterisk

```
cd /tmp

wget https://downloads.asterisk.org/pub/telephony/asterisk/asterisk-18-current.tar.gz -O - | gzip -dc | tar -xvf -

cd asterisk-18-...

./configure --with-jansson-bundled

make menuconfig

make

make install
```

```
groupadd asterisk
useradd -g asterisk -s /bin/true -d /var/lib/asterisk asterisk
```

```
rm -rf /etc/asterisk
ln -sf /opt/rbt/asterisk /etc/asterisk
```

```
cp /opt/rbt/asterisk/config.sample.lua /opt/rbt/asterisk/config.lua
cp /opt/rbt/asterisk/extconfig.sample.conf /opt/rbt/asterisk/extconfig.conf
```

after copying configs, modify it to your realms

```
vi /etc/systemd/system/asterisk.service
```

```
chown -R asterisk:asterisk /var/{lib,log,run,spool}/asterisk
```

```
[Unit]
Description=Asterisk PBX and telephony daemon.
After=network.target

[Service]
Type=simple
Environment=HOME=/var/lib/asterisk
WorkingDirectory=/var/lib/asterisk
User=asterisk
Group=asterisk
ExecStart=/usr/sbin/asterisk -mqf -C /etc/asterisk/asterisk.conf
ExecReload=/usr/sbin/asterisk -rx 'core reload'
LimitCORE=infinity
Restart=always
RestartSec=4
StandardOutput=null
PrivateTmp=true

[Install]
WantedBy=multi-user.target
```
